{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Layout from\"../../components/shared/Layout/Layout\";import moment from\"moment\";import API from\"../../services/API\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Consumer=function Consumer(){var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//find donar records\nvar getDonars=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$API$post,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return API.post(\"/inventory/get-inventory-hospital\",{filters:{inventoryType:\"out\",hospital:user===null||user===void 0?void 0:user._id}});case 3:_yield$API$post=_context.sent;_data=_yield$API$post.data;if(_data!==null&&_data!==void 0&&_data.success){setData(_data===null||_data===void 0?void 0:_data.inventory);console.log(_data);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 11:case\"end\":return _context.stop();}},_callee,null,[[0,8]]);}));return function getDonars(){return _ref.apply(this,arguments);};}();useEffect(function(){getDonars();},[]);return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-4\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Blood Group\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Inventory TYpe\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data===null||data===void 0?void 0:data.map(function(record){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:record.bloodGroup}),/*#__PURE__*/_jsx(\"td\",{children:record.inventoryType}),/*#__PURE__*/_jsx(\"td\",{children:record.quantity}),/*#__PURE__*/_jsx(\"td\",{children:record.email}),/*#__PURE__*/_jsx(\"td\",{children:moment(record.createdAt).format(\"DD/MM/YYYY hh:mm A\")})]},record._id);})})]})})});};export default Consumer;","map":{"version":3,"names":["React","useEffect","useState","Layout","moment","API","useSelector","jsx","_jsx","jsxs","_jsxs","Consumer","_useSelector","state","auth","user","_useState","_useState2","_slicedToArray","data","setData","getDonars","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$API$post","_data","wrap","_callee$","_context","prev","next","post","filters","inventoryType","hospital","_id","sent","success","inventory","console","log","t0","stop","apply","arguments","children","className","scope","map","record","bloodGroup","quantity","email","createdAt","format"],"sources":["C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/src/pages/Dashboard/Consumer.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Layout from \"../../components/shared/Layout/Layout\";\nimport moment from \"moment\";\nimport API from \"../../services/API\";\nimport { useSelector } from \"react-redux\";\n\nconst Consumer = () => {\n  const { user } = useSelector((state) => state.auth);\n  const [data, setData] = useState([]);\n  //find donar records\n  const getDonars = async () => {\n    try {\n      const { data } = await API.post(\"/inventory/get-inventory-hospital\", {\n        filters: {\n          inventoryType: \"out\",\n          hospital: user?._id,\n        },\n      });\n      if (data?.success) {\n        setData(data?.inventory);\n        console.log(data);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getDonars();\n  }, []);\n\n  return (\n    <Layout>\n      <div className=\"container mt-4\">\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Blood Group</th>\n              <th scope=\"col\">Inventory TYpe</th>\n              <th scope=\"col\">Quantity</th>\n              <th scope=\"col\">Email</th>\n              <th scope=\"col\">Date</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data?.map((record) => (\n              <tr key={record._id}>\n                <td>{record.bloodGroup}</td>\n                <td>{record.inventoryType}</td>\n                <td>{record.quantity}</td>\n                <td>{record.email}</td>\n                <td>{moment(record.createdAt).format(\"DD/MM/YYYY hh:mm A\")}</td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </Layout>\n  );\n};\n\nexport default Consumer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}