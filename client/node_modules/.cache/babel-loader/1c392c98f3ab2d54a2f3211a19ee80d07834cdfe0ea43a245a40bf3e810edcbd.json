{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useSelector}from\"react-redux\";import InputType from\"./../Form/InputType\";import API from\"./../../../services/API\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Modal=function Modal(){var _useState=useState(\"in\"),_useState2=_slicedToArray(_useState,2),inventoryType=_useState2[0],setInventoryType=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),bloodGroup=_useState4[0],setBloodGroup=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),quantity=_useState6[0],setQuantity=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;// handle modal data\nvar handleModalSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$API$post,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!(!bloodGroup||!quantity)){_context.next=3;break;}return _context.abrupt(\"return\",alert(\"Please Provide All Fields\"));case 3:_context.next=5;return API.post(\"/inventory/create-inventory\",{email:email,organisation:user===null||user===void 0?void 0:user._id,inventoryType:inventoryType,bloodGroup:bloodGroup,quantity:quantity});case 5:_yield$API$post=_context.sent;data=_yield$API$post.data;if(data!==null&&data!==void 0&&data.success){alert(\"New Record Created\");window.location.reload();}_context.next=15;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);alert(_context.t0.response.data.message);console.log(_context.t0);window.location.reload();case 15:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function handleModalSubmit(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"staticBackdrop\",\"data-bs-backdrop\":\"static\",\"data-bs-keyboard\":\"false\",tabIndex:-1,\"aria-labelledby\":\"staticBackdropLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"staticBackdropLabel\",children:\"Manage Blood Record\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-3\",children:[\"Blood Type: \\xA0\",/*#__PURE__*/_jsxs(\"div\",{className:\"form-check ms-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"inRadio\",defaultChecked:true,value:\"in\",onChange:function onChange(e){return setInventoryType(e.target.value);},className:\"form-check-input\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"in\",className:\"form-check-label\",children:\"IN\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check ms-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"inRadio\",value:\"out\",onChange:function onChange(e){return setInventoryType(e.target.value);},className:\"form-check-input\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"out\",className:\"form-check-label\",children:\"OUT\"})]})]}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",\"aria-label\":\"Default select example\",onChange:function onChange(e){return setBloodGroup(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{defaultValue:\"Open this select menu\",children:\"Open this select menu\"}),/*#__PURE__*/_jsx(\"option\",{value:\"O+\",children:\"O+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"O-\",children:\"O-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"AB+\",children:\"AB+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"AB-\",children:\"AB-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A+\",children:\"A+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A-\",children:\"A-\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B+\",children:\"B+\"}),/*#__PURE__*/_jsx(\"option\",{value:\"B-\",children:\"B-\"})]}),/*#__PURE__*/_jsx(InputType,{labelText:\"Donar Email\",labelFor:\"donarEmail\",inputType:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(InputType,{labelText:\"Quanitity (ML)\",labelFor:\"quantity\",inputType:\"Number\",value:quantity,onChange:function onChange(e){return setQuantity(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary\",onClick:handleModalSubmit,children:\"Submit\"})]})]})})})});};export default Modal;","map":{"version":3,"names":["React","useState","useSelector","InputType","API","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Modal","_useState","_useState2","_slicedToArray","inventoryType","setInventoryType","_useState3","_useState4","bloodGroup","setBloodGroup","_useState5","_useState6","quantity","setQuantity","_useState7","_useState8","email","setEmail","_useSelector","state","auth","user","handleModalSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$API$post","data","wrap","_callee$","_context","prev","next","abrupt","alert","post","organisation","_id","sent","success","window","location","reload","t0","response","message","console","log","stop","apply","arguments","children","className","id","tabIndex","type","name","defaultChecked","value","onChange","e","target","htmlFor","defaultValue","labelText","labelFor","inputType","onClick"],"sources":["C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/src/components/shared/modal/Modal.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport InputType from \"./../Form/InputType\";\nimport API from \"./../../../services/API\";\n\nconst Modal = () => {\n  const [inventoryType, setInventoryType] = useState(\"in\");\n  const [bloodGroup, setBloodGroup] = useState(\"\");\n  const [quantity, setQuantity] = useState(0);\n  const [email, setEmail] = useState(\"\");\n  const { user } = useSelector((state) => state.auth);\n  // handle modal data\n  const handleModalSubmit = async () => {\n    try {\n      if (!bloodGroup || !quantity) {\n        return alert(\"Please Provide All Fields\");\n      }\n      const { data } = await API.post(\"/inventory/create-inventory\", {\n        email,\n        organisation: user?._id,\n        inventoryType,\n        bloodGroup,\n        quantity,\n      });\n      if (data?.success) {\n        alert(\"New Record Created\");\n        window.location.reload();\n      }\n    } catch (error) {\n      alert(error.response.data.message);\n      console.log(error);\n      window.location.reload();\n    }\n  };\n\n  return (\n    <>\n      {/* Modal */}\n      <div\n        className=\"modal fade\"\n        id=\"staticBackdrop\"\n        data-bs-backdrop=\"static\"\n        data-bs-keyboard=\"false\"\n        tabIndex={-1}\n        aria-labelledby=\"staticBackdropLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h1 className=\"modal-title fs-5\" id=\"staticBackdropLabel\">\n                Manage Blood Record\n              </h1>\n              <button\n                type=\"button\"\n                className=\"btn-close\"\n                data-bs-dismiss=\"modal\"\n                aria-label=\"Close\"\n              />\n            </div>\n            <div className=\"modal-body\">\n              <div className=\"d-flex mb-3\">\n                Blood Type: &nbsp;\n                <div className=\"form-check ms-3\">\n                  <input\n                    type=\"radio\"\n                    name=\"inRadio\"\n                    defaultChecked\n                    value={\"in\"}\n                    onChange={(e) => setInventoryType(e.target.value)}\n                    className=\"form-check-input\"\n                  />\n                  <label htmlFor=\"in\" className=\"form-check-label\">\n                    IN\n                  </label>\n                </div>\n                <div className=\"form-check ms-3\">\n                  <input\n                    type=\"radio\"\n                    name=\"inRadio\"\n                    value={\"out\"}\n                    onChange={(e) => setInventoryType(e.target.value)}\n                    className=\"form-check-input\"\n                  />\n                  <label htmlFor=\"out\" className=\"form-check-label\">\n                    OUT\n                  </label>\n                </div>\n              </div>\n              <select\n                className=\"form-select\"\n                aria-label=\"Default select example\"\n                onChange={(e) => setBloodGroup(e.target.value)}\n              >\n                <option defaultValue={\"Open this select menu\"}>\n                  Open this select menu\n                </option>\n                <option value={\"O+\"}>O+</option>\n                <option value={\"O-\"}>O-</option>\n                <option value={\"AB+\"}>AB+</option>\n                <option value={\"AB-\"}>AB-</option>\n                <option value={\"A+\"}>A+</option>\n                <option value={\"A-\"}>A-</option>\n                <option value={\"B+\"}>B+</option>\n                <option value={\"B-\"}>B-</option>\n              </select>\n              <InputType\n                labelText={\"Donar Email\"}\n                labelFor={\"donarEmail\"}\n                inputType={\"email\"}\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n              <InputType\n                labelText={\"Quanitity (ML)\"}\n                labelFor={\"quantity\"}\n                inputType={\"Number\"}\n                value={quantity}\n                onChange={(e) => setQuantity(e.target.value)}\n              />\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-bs-dismiss=\"modal\"\n              >\n                Close\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={handleModalSubmit}\n              >\n                Submit\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Modal;\n"],"mappings":"qdAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,aAAa,CACzC,MAAO,CAAAC,SAAS,KAAM,qBAAqB,CAC3C,MAAO,CAAAC,GAAG,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1C,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAClB,IAAAC,SAAA,CAA0CX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAjDG,aAAa,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IACtC,IAAAI,UAAA,CAAoChB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAgCpB,QAAQ,CAAC,CAAC,CAAC,CAAAqB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAApCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAA0BxB,QAAQ,CAAC,EAAE,CAAC,CAAAyB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,IAAAG,YAAA,CAAiB3B,WAAW,CAAC,SAAC4B,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,GAAC,CAA3CC,IAAI,CAAAH,YAAA,CAAJG,IAAI,CACZ;AACA,GAAM,CAAAC,iBAAiB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,eAAA,CAAAC,IAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,QAElB,CAACzB,UAAU,EAAI,CAACI,QAAQ,GAAAoB,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAG,MAAA,UACnBC,KAAK,CAAC,2BAA2B,CAAC,SAAAJ,QAAA,CAAAE,IAAA,SAEpB,CAAAzC,GAAG,CAAC4C,IAAI,CAAC,6BAA6B,CAAE,CAC7DrB,KAAK,CAALA,KAAK,CACLsB,YAAY,CAAEjB,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,GAAG,CACvBnC,aAAa,CAAbA,aAAa,CACbI,UAAU,CAAVA,UAAU,CACVI,QAAQ,CAARA,QACF,CAAC,CAAC,QAAAgB,eAAA,CAAAI,QAAA,CAAAQ,IAAA,CANMX,IAAI,CAAAD,eAAA,CAAJC,IAAI,CAOZ,GAAIA,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEY,OAAO,CAAE,CACjBL,KAAK,CAAC,oBAAoB,CAAC,CAC3BM,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAACZ,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAa,EAAA,CAAAb,QAAA,aAEDI,KAAK,CAACJ,QAAA,CAAAa,EAAA,CAAMC,QAAQ,CAACjB,IAAI,CAACkB,OAAO,CAAC,CAClCC,OAAO,CAACC,GAAG,CAAAjB,QAAA,CAAAa,EAAM,CAAC,CAClBH,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,yBAAAZ,QAAA,CAAAkB,IAAA,MAAAvB,OAAA,iBAE5B,kBArBK,CAAAL,iBAAiBA,CAAA,SAAAC,IAAA,CAAA4B,KAAA,MAAAC,SAAA,OAqBtB,CAED,mBACEzD,IAAA,CAAAI,SAAA,EAAAsD,QAAA,cAEE1D,IAAA,QACE2D,SAAS,CAAC,YAAY,CACtBC,EAAE,CAAC,gBAAgB,CACnB,mBAAiB,QAAQ,CACzB,mBAAiB,OAAO,CACxBC,QAAQ,CAAE,CAAC,CAAE,CACb,kBAAgB,qBAAqB,CACrC,cAAY,MAAM,CAAAH,QAAA,cAElB1D,IAAA,QAAK2D,SAAS,CAAC,cAAc,CAAAD,QAAA,cAC3BxD,KAAA,QAAKyD,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BxD,KAAA,QAAKyD,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B1D,IAAA,OAAI2D,SAAS,CAAC,kBAAkB,CAACC,EAAE,CAAC,qBAAqB,CAAAF,QAAA,CAAC,qBAE1D,CAAI,CAAC,cACL1D,IAAA,WACE8D,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,WAAW,CACrB,kBAAgB,OAAO,CACvB,aAAW,OAAO,CACnB,CAAC,EACC,CAAC,cACNzD,KAAA,QAAKyD,SAAS,CAAC,YAAY,CAAAD,QAAA,eACzBxD,KAAA,QAAKyD,SAAS,CAAC,aAAa,CAAAD,QAAA,EAAC,kBAE3B,cAAAxD,KAAA,QAAKyD,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9B1D,IAAA,UACE8D,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,SAAS,CACdC,cAAc,MACdC,KAAK,CAAE,IAAK,CACZC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAzD,gBAAgB,CAACyD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAClDN,SAAS,CAAC,kBAAkB,CAC7B,CAAC,cACF3D,IAAA,UAAOqE,OAAO,CAAC,IAAI,CAACV,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,IAEjD,CAAO,CAAC,EACL,CAAC,cACNxD,KAAA,QAAKyD,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC9B1D,IAAA,UACE8D,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,SAAS,CACdE,KAAK,CAAE,KAAM,CACbC,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAzD,gBAAgB,CAACyD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAClDN,SAAS,CAAC,kBAAkB,CAC7B,CAAC,cACF3D,IAAA,UAAOqE,OAAO,CAAC,KAAK,CAACV,SAAS,CAAC,kBAAkB,CAAAD,QAAA,CAAC,KAElD,CAAO,CAAC,EACL,CAAC,EACH,CAAC,cACNxD,KAAA,WACEyD,SAAS,CAAC,aAAa,CACvB,aAAW,wBAAwB,CACnCO,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAArD,aAAa,CAACqD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAAAP,QAAA,eAE/C1D,IAAA,WAAQsE,YAAY,CAAE,uBAAwB,CAAAZ,QAAA,CAAC,uBAE/C,CAAQ,CAAC,cACT1D,IAAA,WAAQiE,KAAK,CAAE,IAAK,CAAAP,QAAA,CAAC,IAAE,CAAQ,CAAC,cAChC1D,IAAA,WAAQiE,KAAK,CAAE,IAAK,CAAAP,QAAA,CAAC,IAAE,CAAQ,CAAC,cAChC1D,IAAA,WAAQiE,KAAK,CAAE,KAAM,CAAAP,QAAA,CAAC,KAAG,CAAQ,CAAC,cAClC1D,IAAA,WAAQiE,KAAK,CAAE,KAAM,CAAAP,QAAA,CAAC,KAAG,CAAQ,CAAC,cAClC1D,IAAA,WAAQiE,KAAK,CAAE,IAAK,CAAAP,QAAA,CAAC,IAAE,CAAQ,CAAC,cAChC1D,IAAA,WAAQiE,KAAK,CAAE,IAAK,CAAAP,QAAA,CAAC,IAAE,CAAQ,CAAC,cAChC1D,IAAA,WAAQiE,KAAK,CAAE,IAAK,CAAAP,QAAA,CAAC,IAAE,CAAQ,CAAC,cAChC1D,IAAA,WAAQiE,KAAK,CAAE,IAAK,CAAAP,QAAA,CAAC,IAAE,CAAQ,CAAC,EAC1B,CAAC,cACT1D,IAAA,CAACH,SAAS,EACR0E,SAAS,CAAE,aAAc,CACzBC,QAAQ,CAAE,YAAa,CACvBC,SAAS,CAAE,OAAQ,CACnBR,KAAK,CAAE5C,KAAM,CACb6C,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAA7C,QAAQ,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAC3C,CAAC,cACFjE,IAAA,CAACH,SAAS,EACR0E,SAAS,CAAE,gBAAiB,CAC5BC,QAAQ,CAAE,UAAW,CACrBC,SAAS,CAAE,QAAS,CACpBR,KAAK,CAAEhD,QAAS,CAChBiD,QAAQ,CAAE,SAAAA,SAACC,CAAC,QAAK,CAAAjD,WAAW,CAACiD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAC9C,CAAC,EACC,CAAC,cACN/D,KAAA,QAAKyD,SAAS,CAAC,cAAc,CAAAD,QAAA,eAC3B1D,IAAA,WACE8D,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,mBAAmB,CAC7B,kBAAgB,OAAO,CAAAD,QAAA,CACxB,OAED,CAAQ,CAAC,cACT1D,IAAA,WACE8D,IAAI,CAAC,QAAQ,CACbH,SAAS,CAAC,iBAAiB,CAC3Be,OAAO,CAAE/C,iBAAkB,CAAA+B,QAAA,CAC5B,QAED,CAAQ,CAAC,EACN,CAAC,EACH,CAAC,CACH,CAAC,CACH,CAAC,CACN,CAAC,CAEP,CAAC,CAED,cAAe,CAAArD,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}