{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Layout from\"../../components/shared/Layout/Layout\";import moment from\"moment\";import API from\"../../services/API\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrgList=function OrgList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];//find donar records\nvar getDonars=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$API$get,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return API.get(\"/admin/org-list\");case 3:_yield$API$get=_context.sent;_data=_yield$API$get.data;console.log(_data);if(_data!==null&&_data!==void 0&&_data.success){setData(_data===null||_data===void 0?void 0:_data.orgData);}_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function getDonars(){return _ref.apply(this,arguments);};}();useEffect(function(){getDonars();},[]);//DELETE FUNCTION\nvar handelDelete=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var answer,_yield$API$delete,_data2;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;answer=window.prompt(\"Are You SUre Want To Delete This Organisation\",\"Sure\");if(answer){_context2.next=4;break;}return _context2.abrupt(\"return\");case 4:_context2.next=6;return API.delete(\"/admin/delete-donar/\".concat(id));case 6:_yield$API$delete=_context2.sent;_data2=_yield$API$delete.data;alert(_data2===null||_data2===void 0?void 0:_data2.message);window.location.reload();_context2.next=15;break;case 12:_context2.prev=12;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0);case 15:case\"end\":return _context2.stop();}},_callee2,null,[[0,12]]);}));return function handelDelete(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table \",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Date\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Action\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data===null||data===void 0?void 0:data.map(function(record){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:record.organisationName}),/*#__PURE__*/_jsx(\"td\",{children:record.email}),/*#__PURE__*/_jsx(\"td\",{children:record.phone}),/*#__PURE__*/_jsx(\"td\",{children:moment(record.createdAt).format(\"DD/MM/YYYY hh:mm A\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return handelDelete(record._id);},children:\"Delete\"})})]},record._id);})})]})});};export default OrgList;","map":{"version":3,"names":["React","useEffect","useState","Layout","moment","API","jsx","_jsx","jsxs","_jsxs","OrgList","_useState","_useState2","_slicedToArray","data","setData","getDonars","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$API$get","_data","wrap","_callee$","_context","prev","next","get","sent","console","log","success","orgData","t0","stop","apply","arguments","handelDelete","_ref2","_callee2","id","answer","_yield$API$delete","_data2","_callee2$","_context2","window","prompt","abrupt","delete","concat","alert","message","location","reload","_x","children","className","scope","map","record","organisationName","email","phone","createdAt","format","onClick","_id"],"sources":["C:/Users/Abhishek kumar/OneDrive/Desktop/Bloodbank Project/client/src/pages/Admin/OrgList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Layout from \"../../components/shared/Layout/Layout\";\nimport moment from \"moment\";\nimport API from \"../../services/API\";\n\nconst OrgList = () => {\n  const [data, setData] = useState([]);\n  //find donar records\n  const getDonars = async () => {\n    try {\n      const { data } = await API.get(\"/admin/org-list\");\n      console.log(data);\n      if (data?.success) {\n        setData(data?.orgData);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getDonars();\n  }, []);\n\n  //DELETE FUNCTION\n  const handelDelete = async (id) => {\n    try {\n      let answer = window.prompt(\n        \"Are You SUre Want To Delete This Organisation\",\n        \"Sure\"\n      );\n      if (!answer) return;\n      const { data } = await API.delete(`/admin/delete-donar/${id}`);\n      alert(data?.message);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <Layout>\n      <table className=\"table \">\n        <thead>\n          <tr>\n            <th scope=\"col\">Name</th>\n            <th scope=\"col\">Email</th>\n            <th scope=\"col\">Phone</th>\n            <th scope=\"col\">Date</th>\n            <th scope=\"col\">Action</th>\n          </tr>\n        </thead>\n        <tbody>\n          {data?.map((record) => (\n            <tr key={record._id}>\n              <td>{record.organisationName}</td>\n              <td>{record.email}</td>\n              <td>{record.phone}</td>\n              <td>{moment(record.createdAt).format(\"DD/MM/YYYY hh:mm A\")}</td>\n              <td>\n                <button\n                  className=\"btn btn-danger\"\n                  onClick={() => handelDelete(record._id)}\n                >\n                  Delete\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </Layout>\n  );\n};\n\nexport default OrgList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}